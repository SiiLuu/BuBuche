{"ast":null,"code":"import _extends from \"/home/FIXFEDODO/personal/bubuche/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"/home/FIXFEDODO/personal/bubuche/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { setCssEndEvent } from 'web-animation-club';\nimport { classToModules, getClassName, createBubbleEffect, toggleMoveClasses } from '../../helpers/components';\nconst ROOTELM = 'aws-btn';\nconst ANIMATION_DELAY = 100;\n/**\nTODO: Extend the setup with CSS custom properties;\nexport const AwesomeButtonSetup = (setup = {}) => {\n};\n*/\n\nconst Anchor = props => /*#__PURE__*/React.createElement(\"a\", props);\n\nconst Button = props => /*#__PURE__*/React.createElement(\"button\", props);\n\nexport default class AwesomeButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.rootElement = props.rootElement || ROOTELM;\n    this.animationStage = 0;\n    this.extraProps = {};\n    this.state = {\n      disabled: props.disabled || props.placeholder && !props.children\n    };\n    this.checkProps(props);\n  }\n\n  componentDidMount() {\n    this.container = this.button && this.button.parentNode;\n  }\n\n  componentDidUpdate(newProps) {\n    this.checkPlaceholder(newProps);\n    this.checkProps(newProps);\n    this.checkActive(newProps);\n  }\n\n  componentWillUnmount() {\n    if (this.clearTimer) {\n      clearTimeout(this.clearTimer);\n    }\n  }\n\n  getRootClassName() {\n    const {\n      rootElement\n    } = this;\n    const {\n      type,\n      size,\n      placeholder,\n      children,\n      visible,\n      cssModule\n    } = this.props;\n    const {\n      disabled,\n      pressPosition\n    } = this.state;\n    const className = [this.rootElement, type && `${rootElement}--${type}`, size && `${rootElement}--${size}`, visible && `${rootElement}--visible`, placeholder && !children && `${rootElement}--placeholder` || null];\n\n    if (disabled === true) {\n      className.push(`${rootElement}--disabled`);\n    }\n\n    if (pressPosition) {\n      className.push(pressPosition);\n    }\n\n    if (this.props.className) {\n      className.push(...this.props.className.split(' '));\n    }\n\n    if (cssModule && cssModule['aws-btn']) {\n      return classToModules(className, cssModule);\n    }\n\n    return className.join(' ').trim().replace(/[\\s]+/gi, ' ');\n  }\n\n  checkActive(newProps) {\n    if (newProps.active !== this.props.active) {\n      if (newProps.active === true) {\n        this.setState({\n          pressPosition: `${this.rootElement}--active`\n        });\n        return;\n      }\n\n      this.clearPress({\n        force: true\n      });\n    }\n  }\n\n  checkProps(newProps) {\n    const {\n      to,\n      href,\n      target,\n      element\n    } = newProps;\n    this.extraProps.to = to || null;\n    this.extraProps.href = href || null;\n    this.extraProps.target = target || null;\n    this.renderComponent = element || (this.props.href ? Anchor : Button);\n  }\n\n  checkPlaceholder(newProps) {\n    const {\n      disabled,\n      placeholder,\n      children\n    } = newProps;\n\n    if (placeholder === true) {\n      if (!children) {\n        this.setState({\n          disabled: true\n        });\n      } else {\n        this.setState({\n          disabled: false\n        });\n      }\n    } else {\n      this.setState({\n        disabled\n      });\n    }\n  }\n\n  clearPress({\n    force = false,\n    leave = false\n  } = {}) {\n    // clear class movement (no-state)\n    toggleMoveClasses({\n      element: this.container,\n      root: this.rootElement,\n      cssModule: this.props.cssModule\n    });\n    const pressPosition = this.props.active && !force ? `${this.rootElement}--active` : null;\n\n    if (pressPosition === null && leave === false) {\n      setCssEndEvent(this.content, 'transition', {\n        tolerance: 1\n      }).then(() => {\n        if (this.props.onReleased) {\n          this.props.onReleased(this.container);\n        }\n      });\n    }\n\n    this.setState({\n      pressPosition\n    });\n  }\n\n  pressIn() {\n    if (this.state.disabled === true || this.props.blocked === true) {\n      return;\n    }\n\n    this.pressed = new Date().getTime();\n    this.setState({\n      pressPosition: `${this.rootElement}--active`\n    });\n  }\n\n  pressOut(event) {\n    if (this.clearTimer) {\n      clearTimeout(this.clearTimer);\n    }\n\n    const diff = new Date().getTime() - this.pressed;\n\n    if (this.props.ripple === true) {\n      this.createBubble(event);\n    }\n\n    if (typeof window !== 'undefined' && this.button) {\n      const eventTrigger = new Event('action');\n      this.button.dispatchEvent(eventTrigger);\n    }\n\n    this.action();\n    this.clearTimer = setTimeout(() => {\n      this.clearPress();\n    }, ANIMATION_DELAY - diff);\n  }\n\n  action() {\n    const {\n      action,\n      onPress\n    } = this.props;\n\n    if (this.button) {\n      if (action) {\n        action(this.container);\n        return;\n      }\n\n      if (onPress) {\n        onPress(this.container);\n      }\n    }\n  }\n\n  createBubble(event) {\n    createBubbleEffect({\n      event,\n      button: this.button,\n      content: this.content,\n      className: getClassName(`${this.rootElement}__bubble`, this.props.cssModule)\n    });\n  }\n\n  moveEvents() {\n    const events = {\n      onClick: event => {\n        if (this.props.href && this.state.disabled) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      },\n      onMouseLeave: () => {\n        this.clearPress({\n          leave: true\n        });\n      },\n      onMouseDown: event => {\n        if (event && event.nativeEvent.which !== 1) {\n          return;\n        }\n\n        this.pressIn();\n      },\n      onMouseUp: event => {\n        if (this.state.disabled === true || this.props.blocked === true) {\n          event.preventDefault();\n          event.stopPropagation();\n          return;\n        }\n\n        this.pressOut(event);\n      }\n    };\n\n    if (this.props.moveEvents === true) {\n      events.onMouseMove = event => {\n        if (this.state.disabled === true) {\n          return;\n        }\n\n        const {\n          button\n        } = this;\n        const {\n          left\n        } = button.getBoundingClientRect();\n        const width = button.offsetWidth;\n        const state = event.pageX < left + width * 0.3 ? 'left' : event.pageX > left + width * 0.65 ? 'right' : 'middle';\n        toggleMoveClasses({\n          element: this.container,\n          root: this.rootElement,\n          cssModule: this.props.cssModule,\n          state\n        });\n      };\n    } else {\n      events.onMouseEnter = () => {\n        toggleMoveClasses({\n          element: this.container,\n          root: this.rootElement,\n          cssModule: this.props.cssModule,\n          state: 'middle'\n        });\n      };\n    }\n\n    return events;\n  }\n\n  render() {\n    const RenderComponent = this.renderComponent;\n    const {\n      title,\n      style,\n      cssModule,\n      children\n    } = this.props;\n    return /*#__PURE__*/React.createElement(RenderComponent, _extends({\n      style: style,\n      className: this.getRootClassName(),\n      role: \"button\",\n      title: title\n    }, this.extraProps, this.moveEvents()), /*#__PURE__*/React.createElement(\"span\", {\n      ref: button => {\n        this.button = button;\n      },\n      className: getClassName(`${this.rootElement}__wrapper`, cssModule)\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      ref: content => {\n        this.content = content;\n      },\n      className: getClassName(`${this.rootElement}__content`, cssModule)\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      ref: child => {\n        this.child = child;\n      }\n    }, children))));\n  }\n\n}\n\n_defineProperty(AwesomeButton, \"propTypes\", {\n  action: PropTypes.func,\n  onPress: PropTypes.func,\n  onReleased: PropTypes.func,\n  ripple: PropTypes.bool,\n  children: PropTypes.node,\n  disabled: PropTypes.bool,\n  element: PropTypes.func,\n  href: PropTypes.string,\n  placeholder: PropTypes.bool,\n  title: PropTypes.string,\n  rootElement: PropTypes.string,\n  moveEvents: PropTypes.bool,\n  size: PropTypes.string,\n  style: PropTypes.object,\n  cssModule: PropTypes.object,\n  className: PropTypes.string,\n  target: PropTypes.string,\n  to: PropTypes.string,\n  type: PropTypes.string,\n  visible: PropTypes.bool,\n  active: PropTypes.bool,\n  blocked: PropTypes.bool\n});\n\n_defineProperty(AwesomeButton, \"defaultProps\", {\n  action: null,\n  onPress: null,\n  onReleased: null,\n  ripple: false,\n  blocked: false,\n  cssModule: null,\n  children: null,\n  disabled: false,\n  title: null,\n  element: null,\n  href: null,\n  className: null,\n  moveEvents: true,\n  placeholder: false,\n  rootElement: ROOTELM,\n  size: null,\n  style: {},\n  target: null,\n  to: null,\n  type: 'primary',\n  visible: true,\n  active: false\n});","map":{"version":3,"sources":["/home/FIXFEDODO/personal/bubuche/node_modules/react-awesome-button/src/components/AwesomeButton/index.js"],"names":["React","PropTypes","setCssEndEvent","classToModules","getClassName","createBubbleEffect","toggleMoveClasses","ROOTELM","ANIMATION_DELAY","Anchor","props","Button","AwesomeButton","Component","constructor","rootElement","animationStage","extraProps","state","disabled","placeholder","children","checkProps","componentDidMount","container","button","parentNode","componentDidUpdate","newProps","checkPlaceholder","checkActive","componentWillUnmount","clearTimer","clearTimeout","getRootClassName","type","size","visible","cssModule","pressPosition","className","push","split","join","trim","replace","active","setState","clearPress","force","to","href","target","element","renderComponent","leave","root","content","tolerance","then","onReleased","pressIn","blocked","pressed","Date","getTime","pressOut","event","diff","ripple","createBubble","window","eventTrigger","Event","dispatchEvent","action","setTimeout","onPress","moveEvents","events","onClick","preventDefault","stopPropagation","onMouseLeave","onMouseDown","nativeEvent","which","onMouseUp","onMouseMove","left","getBoundingClientRect","width","offsetWidth","pageX","onMouseEnter","render","RenderComponent","title","style","child","func","bool","node","string","object"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { setCssEndEvent } from 'web-animation-club';\nimport {\n  classToModules,\n  getClassName,\n  createBubbleEffect,\n  toggleMoveClasses,\n} from '../../helpers/components';\n\nconst ROOTELM = 'aws-btn';\nconst ANIMATION_DELAY = 100;\n\n/**\nTODO: Extend the setup with CSS custom properties;\nexport const AwesomeButtonSetup = (setup = {}) => {\n};\n*/\n\nconst Anchor = props => <a {...props} />;\nconst Button = props => <button {...props} />;\n\nexport default class AwesomeButton extends React.Component {\n  static propTypes = {\n    action: PropTypes.func,\n    onPress: PropTypes.func,\n    onReleased: PropTypes.func,\n    ripple: PropTypes.bool,\n    children: PropTypes.node,\n    disabled: PropTypes.bool,\n    element: PropTypes.func,\n    href: PropTypes.string,\n    placeholder: PropTypes.bool,\n    title: PropTypes.string,\n    rootElement: PropTypes.string,\n    moveEvents: PropTypes.bool,\n    size: PropTypes.string,\n    style: PropTypes.object,\n    cssModule: PropTypes.object,\n    className: PropTypes.string,\n    target: PropTypes.string,\n    to: PropTypes.string,\n    type: PropTypes.string,\n    visible: PropTypes.bool,\n    active: PropTypes.bool,\n    blocked: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    action: null,\n    onPress: null,\n    onReleased: null,\n    ripple: false,\n    blocked: false,\n    cssModule: null,\n    children: null,\n    disabled: false,\n    title: null,\n    element: null,\n    href: null,\n    className: null,\n    moveEvents: true,\n    placeholder: false,\n    rootElement: ROOTELM,\n    size: null,\n    style: {},\n    target: null,\n    to: null,\n    type: 'primary',\n    visible: true,\n    active: false,\n  };\n\n  constructor(props) {\n    super(props);\n    this.rootElement = props.rootElement || ROOTELM;\n    this.animationStage = 0;\n    this.extraProps = {};\n    this.state = {\n      disabled: props.disabled || (props.placeholder && !props.children),\n    };\n    this.checkProps(props);\n  }\n\n  componentDidMount() {\n    this.container = this.button && this.button.parentNode;\n  }\n\n  componentDidUpdate(newProps) {\n    this.checkPlaceholder(newProps);\n    this.checkProps(newProps);\n    this.checkActive(newProps);\n  }\n\n  componentWillUnmount() {\n    if (this.clearTimer) {\n      clearTimeout(this.clearTimer);\n    }\n  }\n\n  getRootClassName() {\n    const { rootElement } = this;\n    const {\n      type,\n      size,\n      placeholder,\n      children,\n      visible,\n      cssModule,\n    } = this.props;\n    const { disabled, pressPosition } = this.state;\n    const className = [\n      this.rootElement,\n      type && `${rootElement}--${type}`,\n      size && `${rootElement}--${size}`,\n      visible && `${rootElement}--visible`,\n      (placeholder && !children && `${rootElement}--placeholder`) || null,\n    ];\n    if (disabled === true) {\n      className.push(`${rootElement}--disabled`);\n    }\n    if (pressPosition) {\n      className.push(pressPosition);\n    }\n    if (this.props.className) {\n      className.push(...this.props.className.split(' '));\n    }\n    if (cssModule && cssModule['aws-btn']) {\n      return classToModules(className, cssModule);\n    }\n    return className\n      .join(' ')\n      .trim()\n      .replace(/[\\s]+/gi, ' ');\n  }\n\n  checkActive(newProps) {\n    if (newProps.active !== this.props.active) {\n      if (newProps.active === true) {\n        this.setState({\n          pressPosition: `${this.rootElement}--active`,\n        });\n        return;\n      }\n      this.clearPress({ force: true });\n    }\n  }\n\n  checkProps(newProps) {\n    const { to, href, target, element } = newProps;\n    this.extraProps.to = to || null;\n    this.extraProps.href = href || null;\n    this.extraProps.target = target || null;\n    this.renderComponent = element || (this.props.href ? Anchor : Button);\n  }\n\n  checkPlaceholder(newProps) {\n    const { disabled, placeholder, children } = newProps;\n    if (placeholder === true) {\n      if (!children) {\n        this.setState({\n          disabled: true,\n        });\n      } else {\n        this.setState({\n          disabled: false,\n        });\n      }\n    } else {\n      this.setState({\n        disabled,\n      });\n    }\n  }\n\n  clearPress({ force = false, leave = false } = {}) {\n    // clear class movement (no-state)\n    toggleMoveClasses({\n      element: this.container,\n      root: this.rootElement,\n      cssModule: this.props.cssModule,\n    });\n\n    const pressPosition =\n      this.props.active && !force ? `${this.rootElement}--active` : null;\n\n    if (pressPosition === null && leave === false) {\n      setCssEndEvent(this.content, 'transition', {\n        tolerance: 1,\n      }).then(() => {\n        if (this.props.onReleased) {\n          this.props.onReleased(this.container);\n        }\n      });\n    }\n    this.setState({\n      pressPosition,\n    });\n  }\n\n  pressIn() {\n    if (this.state.disabled === true || this.props.blocked === true) {\n      return;\n    }\n    this.pressed = new Date().getTime();\n    this.setState({\n      pressPosition: `${this.rootElement}--active`,\n    });\n  }\n\n  pressOut(event) {\n    if (this.clearTimer) {\n      clearTimeout(this.clearTimer);\n    }\n    const diff = new Date().getTime() - this.pressed;\n    if (this.props.ripple === true) {\n      this.createBubble(event);\n    }\n    if (typeof window !== 'undefined' && this.button) {\n      const eventTrigger = new Event('action');\n      this.button.dispatchEvent(eventTrigger);\n    }\n    this.action();\n    this.clearTimer = setTimeout(() => {\n      this.clearPress();\n    }, ANIMATION_DELAY - diff);\n  }\n\n  action() {\n    const { action, onPress } = this.props;\n\n    if (this.button) {\n      if (action) {\n        action(this.container);\n        return;\n      }\n      if (onPress) {\n        onPress(this.container);\n      }\n    }\n  }\n\n  createBubble(event) {\n    createBubbleEffect({\n      event,\n      button: this.button,\n      content: this.content,\n      className: getClassName(\n        `${this.rootElement}__bubble`,\n        this.props.cssModule\n      ),\n    });\n  }\n\n  moveEvents() {\n    const events = {\n      onClick: event => {\n        if (this.props.href && this.state.disabled) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      },\n      onMouseLeave: () => {\n        this.clearPress({ leave: true });\n      },\n      onMouseDown: event => {\n        if (event && event.nativeEvent.which !== 1) {\n          return;\n        }\n        this.pressIn();\n      },\n      onMouseUp: event => {\n        if (this.state.disabled === true || this.props.blocked === true) {\n          event.preventDefault();\n          event.stopPropagation();\n          return;\n        }\n        this.pressOut(event);\n      },\n    };\n    if (this.props.moveEvents === true) {\n      events.onMouseMove = event => {\n        if (this.state.disabled === true) {\n          return;\n        }\n        const { button } = this;\n        const { left } = button.getBoundingClientRect();\n        const width = button.offsetWidth;\n        const state =\n          event.pageX < left + width * 0.3\n            ? 'left'\n            : event.pageX > left + width * 0.65\n            ? 'right'\n            : 'middle';\n\n        toggleMoveClasses({\n          element: this.container,\n          root: this.rootElement,\n          cssModule: this.props.cssModule,\n          state,\n        });\n      };\n    } else {\n      events.onMouseEnter = () => {\n        toggleMoveClasses({\n          element: this.container,\n          root: this.rootElement,\n          cssModule: this.props.cssModule,\n          state: 'middle',\n        });\n      };\n    }\n    return events;\n  }\n\n  render() {\n    const RenderComponent = this.renderComponent;\n    const { title, style, cssModule, children } = this.props;\n    return (\n      <RenderComponent\n        style={style}\n        className={this.getRootClassName()}\n        role=\"button\"\n        title={title}\n        {...this.extraProps}\n        {...this.moveEvents()}\n      >\n        <span\n          ref={button => {\n            this.button = button;\n          }}\n          className={getClassName(`${this.rootElement}__wrapper`, cssModule)}\n        >\n          <span\n            ref={content => {\n              this.content = content;\n            }}\n            className={getClassName(`${this.rootElement}__content`, cssModule)}\n          >\n            <span\n              ref={child => {\n                this.child = child;\n              }}\n            >\n              {children}\n            </span>\n          </span>\n        </span>\n      </RenderComponent>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}